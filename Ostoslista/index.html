<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <title>Ostoslista</title>
        <link rel='stylesheet' href='styles.css' />
        <meta name='viewport' content='width=device-width' />
        <!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.1/html5shiv.js"></script><![endif]-->
    </head>
    <body>
        <div id="fb-root"></div>
        <script>
	      window.fbAsyncInit = function() {
		    FB.init({
		      appId: '307252376076816', // App ID
		      channelUrl: '//ostoslista.azurewebsites.net//channel.html', // Channel File
		      status     : false, // check login status
		      cookie     : false, // enable cookies to allow the server to access the session
		      xfbml      : false  // parse XFBML
		    });
	      };

	      // Load the SDK Asynchronously
	      (function(d){
		     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
		     if (d.getElementById(id)) {return;}
		     js = d.createElement('script'); js.id = id; js.async = true;
		     js.src = "//connect.facebook.net/en_US/all.js";
		     ref.parentNode.insertBefore(js, ref);
	       }(document));
	    </script>
        <div id='wrapper'>
            <article>
                <header>
                    <h1>Ostoslista</h1>
                    <div id="logged-in">
                        Tervetuloa, <span id="login-name"></span>.
                        <button id="log-out">Kirjaudu ulos</button>
                    </div>
                    <div id="logged-out">
                        Kirjaudu sisään Facebook-tunnuksellasi, jotta voit käyttää ostoslistoja.
                        <button>Kirjaudu sisään</button>
                    </div>
                    <div id="change-list">
                        Aktiivinen ostoslista: <select id="lists"></select>. <button id="add-new-list">Lisää uusi</button>
                        <form id="add-list">
                            <button type="submit">Lisää</button> <button id="cancel-add-list">Peruuta</button>
                            <div><input type="text" id="new-list-name" placeholder="Kirjoita uuden ostoslistan nimi" /></div>
                        </form>
                    </div>
                    <form id='add-item'>
                        <button type='submit'>Lisää</button>
                        <div><input type='text' id='new-item-text' placeholder='Kirjoita lisättävä asia' /></div>
                    </form>
                </header>
                
                <ul id='todo-items'></ul>
                <p id='summary'>Ladataan...</p>
            </article>

            <footer>
                <ul id='errorlog'></ul>
            </footer>
        </div>

        <script src='https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js'></script>
        <script src='https://ostoslista.azure-mobile.net/client/MobileServices.Web-1.0.0.min.js'></script>
        <script src='page.js'></script>
    </body>
</html>